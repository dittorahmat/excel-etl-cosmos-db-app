# ========================
# Azure Resource Configuration
# ========================

# Azure Resource Group
# -------------------
AZURE_RESOURCE_GROUP=my-excel-etl-rg
AZURE_LOCATION=eastus  # e.g., eastus, westus, westeurope

# ========================
# Azure Cosmos DB Configuration
# ========================
# Get these values from Azure Portal > Cosmos DB > Your Account > Keys
AZURE_COSMOSDB_ACCOUNT=your-cosmosdb-account-name
AZURE_COSMOS_ENDPOINT=https://your-cosmosdb-account-name.documents.azure.com:443/
AZURE_COSMOS_KEY=your-cosmosdb-primary-key
AZURE_COSMOS_DATABASE=excel-data
AZURE_COSMOS_CONTAINER=records
AZURE_COSMOS_PARTITION_KEY=id  # Defaults to 'id' if not specified

# ========================
# Azure Storage Configuration
# ========================
# Get these values from Azure Portal > Storage Account > Your Account > Access Keys
AZURE_STORAGE_ACCOUNT=your-storage-account-name
AZURE_STORAGE_KEY=your-storage-account-key
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your-storage-account;AccountKey=your-storage-key;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER=excel-uploads

# ========================
# Azure Function App Configuration
# ========================
AZURE_FUNCTION_APP=your-function-app-name
AZURE_FUNCTION_ENDPOINT=https://your-function-app-name.azurewebsites.net
AZURE_FUNCTION_KEY=your-function-key  # Get from Function App > Functions > App Keys

# ========================
# Application Configuration
# ========================

# Environment (development, staging, production)
NODE_ENV=development

# Server Configuration
# -------------------
PORT=3001  # Default port for local development

# CORS Configuration (comma-separated list of allowed origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Logging Configuration
# --------------------
LOG_LEVEL=info  # error, warn, info, debug, trace

# Session Configuration
# -------------------
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'));"
SESSION_SECRET=generate-a-strong-secret-here

# ========================
# File Upload Configuration
# ========================
MAX_FILE_SIZE_MB=10  # Maximum file size in MB

# Allowed MIME types for file uploads (comma-separated)
ALLOWED_FILE_TYPES=application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel

# ========================
# Azure AD Authentication (Microsoft Identity Platform)
# ========================
# These values are used for Azure AD authentication in your application.
#
# 1. Go to Azure Portal (https://portal.azure.com)
# 2. Navigate to "Azure Active Directory" > "App registrations"
# 3. Click "New registration"
#    - Name: Your app name (e.g., "Excel ETL App")
#    - Supported account types: Select appropriate option
#    - Redirect URI: Select "Single-page application (SPA)" and enter your app's URL
# 4. Click "Register"
#
# After registration:
# - VITE_AZURE_CLIENT_ID: Find as "Application (client) ID" in the app's Overview
# - VITE_AZURE_TENANT_ID: Find as "Directory (tenant) ID" in the app's Overview

# Required for authentication
VITE_AZURE_CLIENT_ID=your_client_id_here
VITE_AZURE_TENANT_ID=your_tenant_id_here

# Optional: Custom authority URL (for custom domains or B2C)
# VITE_AZURE_AUTHORITY=https://login.microsoftonline.com/your_tenant_id

# Optional: API scope for backend access
# Format: api://<api-client-id>/<scope-name>
# VITE_API_SCOPE=api://your_api_client_id/access_as_user

# ========================
# Monitoring (Optional)
# ========================
# Azure Application Insights
# APPLICATION_INSIGHTS_CONNECTION_STRING=InstrumentationKey=your-instrumentation-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/

# ========================
# Security Notes
# ========================
# 1. Never commit the actual .env file to version control
# 2. Use Azure Key Vault or similar for production secrets
# 3. Set proper CORS policies for your production domains
# 4. Use proper HTTPS configuration in production
# 5. Set appropriate security headers
# 6. Rotate credentials and secrets regularly
# 7. Use environment-specific configuration files for different environments
